# ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤

## ÔøΩÔøΩ –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!

**–ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:** –ò–º—è —Ñ–∞–π–ª–∞ `–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ –æ—Ç 2025-09-25 19-19-16.png` —Å–æ–¥–µ—Ä–∂–∞–ª–æ –ø—Ä–æ–±–µ–ª—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ –∫–ª—é—á–∞—Ö Supabase Storage.

### üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

#### **1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤:**
```typescript
export const sanitizeFileName = (fileName: string): string => {
    // –£–±–∏—Ä–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
    const nameWithoutExt = fileName.replace(/\.[^/.]+$/, "");
    const extension = fileName.match(/\.[^/.]+$/)?.[0] || "";
    
    // –ó–∞–º–µ–Ω—è–µ–º –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –Ω–∞ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
    const sanitizedName = nameWithoutExt
        .replace(/[^a-zA-Z0-9\-_]/g, '_')  // –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ –∫—Ä–æ–º–µ –±—É–∫–≤, —Ü–∏—Ñ—Ä, –¥–µ—Ñ–∏—Å–æ–≤ –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–π
        .replace(/_+/g, '_')               // –£–±–∏—Ä–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
        .replace(/^_|_$/g, '');            // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
    
    return sanitizedName + extension;
};
```

#### **2. –û–±–Ω–æ–≤–ª–µ–Ω useCompanyProfile.ts:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `sanitizeFileName`
- –£–¥–∞–ª–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ "Invalid key"

#### **3. –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:**
- `–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ –æ—Ç 2025-09-25 19-19-16.png` ‚Üí `–°–Ω–∏–º–æ–∫_—ç–∫—Ä–∞–Ω–∞_–æ—Ç_2025-09-25_19-19-16.png`
- `–ú–æ–π —Ñ–∞–π–ª (1).jpg` ‚Üí `–ú–æ–π_—Ñ–∞–π–ª_1_.jpg`
- `logo@company.png` ‚Üí `logo_company.png`

### ‚úÖ –¢–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

### ÔøΩÔøΩ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
1. **–ü–æ–ª—É—á–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞**
2. **–°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ–º –∏–º—è** (—É–±–∏—Ä–∞–µ–º –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã)
3. **–°–æ–∑–¥–∞–µ–º –ø—É—Ç—å** —Å —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º
4. **–ó–∞–≥—Ä—É–∂–∞–µ–º –≤ Supabase Storage**
5. **–ü–æ–ª—É—á–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π URL**
6. **–°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏**

### üîç –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
–¢–µ–ø–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ:
```
üîß uploadLogo: –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞: –°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ –æ—Ç 2025-09-25 19-19-16.png
üîß uploadLogo: —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è: –°–Ω–∏–º–æ–∫_—ç–∫—Ä–∞–Ω–∞_–æ—Ç_2025-09-25_19-19-16.png
üîß uploadLogo: path: 1fdf7462-958b-4174-a51e-bb9585c530ab/1758817289433_–°–Ω–∏–º–æ–∫_—ç–∫—Ä–∞–Ω–∞_–æ—Ç_2025-09-25_19-19-16.png
```

### üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `src/utils/index.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `sanitizeFileName`
- `src/hooks/useCompanyProfile.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ª–æ–≥–æ—Ç–∏–ø—ã —Å –ª—é–±—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤!
