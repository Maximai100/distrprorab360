# ‚è∞ –ü–†–û–ë–õ–ï–ú–ê: DatabaseTimeout –≤ Supabase Storage

## ‚ùó –ù–æ–≤–∞—è –æ—à–∏–±–∫–∞: DatabaseTimeout

### **üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞:**
```json
{
  "statusCode": "544",
  "code": "DatabaseTimeout", 
  "error": "DatabaseTimeout",
  "message": "The connection to the database timed out"
}
```

### **‚úÖ –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å:**
- ‚úÖ Bucket "logos" —Ç–µ–ø–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –§–∞–π–ª –Ω–∞–π–¥–µ–Ω –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—É—Ç–∏
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase

## üõ†Ô∏è –†–ï–®–ï–ù–ò–ï: –û–±—Ä–∞–±–æ—Ç–∫–∞ DatabaseTimeout

### **üîß –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

#### **1. Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è DatabaseTimeout:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ 544
- –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω retry

#### **2. –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏:**
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å Supabase
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—à–µ–Ω–∏—é

#### **3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å–∞ 544
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –†–ï–®–ï–ù–ò–Æ:

### **–®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Supabase**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [status.supabase.com](https://status.supabase.com)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å **Storage** –∏ **Database**
3. –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã - –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### **–®–ê–ì 2: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —Å–Ω–æ–≤–∞**
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø
4. Retry –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **–®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É**
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
window.diagnoseLogo()
```

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –õ–û–ì–û–¢–ò–ü–ê:
üîç –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å: {...}
üîç URL –ª–æ–≥–æ—Ç–∏–ø–∞: https://prorab360.online/storage/v1/object/public/logos/...
üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL –ª–æ–≥–æ—Ç–∏–ø–∞...
üîç HTTP —Å—Ç–∞—Ç—É—Å –ª–æ–≥–æ—Ç–∏–ø–∞: 200
‚úÖ –õ–æ–≥–æ—Ç–∏–ø –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTP
```

### **–®–ê–ì 4: –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è**
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Supabase

## üîÑ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –†–ï–®–ï–ù–ò–ï:

### **Retry –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 544 (DatabaseTimeout)
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 503 (Service Unavailable)
- –ü—Ä–∏ NetworkError
- –ü—Ä–∏ NS_BINDING_ABORTED

### **–õ–æ–≥–∏ retry:**
```
üîß uploadLogo: Retry 1/2 —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
üîß uploadLogo: –ü—Ä–∏—á–∏–Ω–∞ retry: DatabaseTimeout
```

## üö® –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:

### **–ü—Ä–∏—á–∏–Ω–∞ 1: –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ Supabase**
- –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã
- –ü–ª–∞–Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

### **–ü—Ä–∏—á–∏–Ω–∞ 2: –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é**
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å DNS
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–æ–º

### **–ü—Ä–∏—á–∏–Ω–∞ 3: –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**
- –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ

## üîß –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø:

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞** (< 1MB)
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (—Å–∂–∞—Ç–∏–µ, WebP)
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å Supabase** –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ retry –ª–æ–≥–∏–∫—É** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏:**
```typescript
// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
const uploadOptions = {
  upsert: true,
  cacheControl: '3600',
  contentType: file.type,
  // –î–æ–±–∞–≤–ª—è–µ–º —Ç–∞–π–º–∞—É—Ç
  timeout: 30000 // 30 —Å–µ–∫—É–Ω–¥
};
```

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì:

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
- [status.supabase.com](https://status.supabase.com) - —Å—Ç–∞—Ç—É—Å Supabase
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ - –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
- Network tab - —Å—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–æ—Å–æ–≤

### **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–±–ª–µ–º—ã:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ 544
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
- –¢–∞–π–º–∞—É—Ç—ã –≤ –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:

–ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã DatabaseTimeout:
- ‚úÖ –õ–æ–≥–æ—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –õ–æ–≥–æ—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —à–∞–ø–∫–µ
- ‚úÖ –õ–æ–≥–æ—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

---

## üöÄ –í–´–ü–û–õ–ù–ò–¢–ï –ü–†–û–í–ï–†–ö–£:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Supabase** –Ω–∞ status.supabase.com
2. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏**
5. **–°–æ–æ–±—â–∏—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö**

**DatabaseTimeout - —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ —Ä–µ—à–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**
